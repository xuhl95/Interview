# Mysql索引原理和实现
扩展阅读 [<Mysql索引原理和实现>](https://blog.csdn.net/tongdanping/article/details/79878302)
## 目录

一、MySQL中索引的语法

二、索引的优缺点

三、索引的分类

四、索引的实现原理

1、哈希索引：

2、全文索引：

3、BTree索引和B+Tree索引

4、聚簇索引和非聚簇索引

五、索引的使用策略

六、索引的优化

### MySQL中索引的语法

#### 创建索引

在创建表的时候添加索引
```
CREATE TABLE mytable(  
    ID INT NOT NULL,   
    username VARCHAR(16) NOT NULL,  
    INDEX [indexName] (username(length))  
); 

```

在创建表以后添加索引
```
ALTER TABLE my_table ADD [UNIQUE] INDEX index_name(column_name);
或者
CREATE INDEX index_name ON my_table(column_name);

```

注意：
> 1、索引需要占用磁盘空间，因此在创建索引时要考虑到磁盘空间是否足够

> 2、创建索引时需要对表加锁，因此实际操作中需要在业务空闲期间进行

根据索引查询
```
具体查询：
SELECT * FROM table_name WHERE column_1=column_2;(为column_1建立了索引)
 
或者模糊查询
SELECT * FROM table_name WHERE column_1 LIKE '%三'
SELECT * FROM table_name WHERE column_1 LIKE '三%'
SELECT * FROM table_name WHERE column_1 LIKE '%三%'
 
SELECT * FROM table_name WHERE column_1 LIKE '_好_'
 
如果要表示在字符串中既有A又有B，那么查询语句为：
SELECT * FROM table_name WHERE column_1 LIKE '%A%' AND column_1 LIKE '%B%';
 
SELECT * FROM table_name WHERE column_1 LIKE '[张李王]三';  //表示column_1中有匹配张三、李三、王三的都可以
SELECT * FROM table_name WHERE column_1 LIKE '[^张李王]三';  //表示column_1中有匹配除了张三、李三、王三的其他三都可以
 
//在模糊查询中，%表示任意0个或多个字符；_表示任意单个字符（有且仅有），通常用来限制字符串长度;[]表示其中的某一个字符；[^]表示除了其中的字符的所有字符
 
或者在全文索引中模糊查询
SELECT * FROM table_name WHERE MATCH(content) AGAINST('word1','word2',...);

```

删除索引
```
DROP INDEX my_index ON tablename；
或者
ALTER TABLE table_name DROP INDEX index_name;

```

查看表中的索引
```
SHOW INDEX FROM tablename
```

查看查询语句使用索引的情况
```
//explain 加查询语句
explain SELECT * FROM table_name WHERE column_1='123';
```