## Mysql整理

### 目录
- 索引
  - MySQL中索引的语法
  - [索引的优缺点](#索引的优缺点)
  - 索引的实现原理
  - 索引分类
  - 索引失效条件
  - 什么时候要使用索引？
  - 什么时候不要使用索引？
  - 联合索引（组合索引）
  - 索引优化
  - 聚集索引和非聚集索引
  

#### MySQL中索引的语法

在创建表的时候添加索引
```
CREATE TABLE mytable(  
    ID INT NOT NULL,   
    username VARCHAR(16) NOT NULL,  
    INDEX [indexName] (username(length))  
); 

```

在创建表以后添加索引
```
ALTER TABLE my_table ADD [UNIQUE] INDEX index_name(column_name);
或者
CREATE INDEX index_name ON my_table(column_name);

```

注意：
> 1、索引需要占用磁盘空间，因此在创建索引时要考虑到磁盘空间是否足够

> 2、创建索引时需要对表加锁，因此实际操作中需要在业务空闲期间进行

删除索引
```
DROP INDEX my_index ON tablename；
或者
ALTER TABLE table_name DROP INDEX index_name;

```

查看表中的索引
```
SHOW INDEX FROM tablename
```

查看查询语句使用索引的情况
```
//explain 加查询语句
explain SELECT * FROM table_name WHERE column_1='123';
```

#### 索引的优缺点

#### 缺点

1.虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行insert、update和delete。因为更新表时，不仅要保存数据，还要保存一下索引文件。

2.建立索引会占用磁盘空间的索引文件。一般情况这个问题不太严重，但如果你在一个大表上创建了多种组合索引，索引文件的会增长很快。
索引只是提高效率的一个因素，如果有大数据量的表，就需要花时间研究建立最优秀的索引，或优化查询语句。

#### 优点
可以快速检索，减少I/O次数，加快检索速度；根据索引分组和排序，可以加快分组和排序


### 索引的实现原理
扩展阅读[《索引的实现原理》](https://cloud.tencent.com/developer/article/1125452)
